% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/score.R
\name{score_annotation_agreement_ontology}
\alias{score_annotation_agreement_ontology}
\title{Score Agreement Based on Cell Ontology Ancestry}
\usage{
score_annotation_agreement_ontology(
  seurat_obj,
  manual_col = "manual_celltype",
  predicted_col = "predicted_celltype",
  cl_term_map,
  ancestor_type_map,
  output_csv = NULL
)
}
\arguments{
\item{seurat_obj}{A Seurat object with both annotation columns.}

\item{manual_col}{Character. Metadata column for manual annotation.}

\item{predicted_col}{Character. Metadata column for predicted annotation.}

\item{cl_term_map}{Data.frame. Term name/synonym to CL ID.}

\item{ancestor_type_map}{Named list: CL ID to character vector of ancestors (including self).
\strong{Run \code{ancestor_type_map <- build_ancestor_type_map(cl)}} to create the ancestor map before using this function.}

\item{output_csv}{Optional. Save the detailed score of each cells. Path for CSV export. if NULL, no}
}
\value{
List with per-cell scores and summary.
}
\description{
Fully match: same CL ID. Partially match: manual is ancestor of predicted or vice versa.
}
\details{
\strong{NOTE:} You need to first run \code{ancestor_type_map <- build_ancestor_type_map(cl)}
to create the ancestor mapping for your ontology.
}
